su认证失败
2013年12月03日 15:33:40 xiaoxiali 阅读数：10727 标签： Linux ubuntu su root 更多
个人分类： Linux

Ubuntu 安装后，root用户默认是被锁定了的，不允许登录，也不允许 "su" 到 root。有人说这是个不好的实践，特别是对于服务器来说。我觉得对于桌面用户来说，这样安全性更高一些，是应该的；但对于服务器可以设置成允许 "su" 到root，但不允许root用户直接登录”。而我为了开发时的方便，则在桌面和服务器上都采用这种方式。


问题：su认证失败

使用su命令登录到root用户时，老是报"su：认证失败"错误。报这个错误的原因是root用户默认是被锁定了的，只要使用passwd命令重新设置下root密码即可。问题如下：
1 me@ubuntu:~$ su 
2 密码：<--- 输入安装时root用户的密码
3 su：认证失败 


允许 su 到 root

非常简单，只需要重新设置下密码即可。下面是设置的方法：
1 me@ubuntu:~$ sudo passwd 
2 密码：<--- 输入安装时那个用户的密码
3 输入新的 UNIX 密码：<--- 新的Root用户密码
4 重新输入新的 UNIX 密码：<--- 重复新的Root用户密码
5 passwd：已成功更新密码 
6 me@ubuntu:~$ su 
7 密码：<--输入重置的新密码 
8 root@ubuntu:/home/me#         #已经进入root用户

允许root登录
如果要允许root登录（不推荐，注：这一步依赖上一步"允许su到root"），则这样操作：
1 me@ubuntu:~$ gksu /usr/sbin/gdmsetup 
或者：
2 使用桌面菜单：系统＞系统管理＞登录窗口，点“安全”选项页，选择“允许本地管理员登录”。

不输入密码直接登录
在论坛上也看见有人抱怨，家中的Ubuntu不能像Window$那样──不用输入密码就能登录。其实同样能做到：
1 就在上一步的“安全”选项页中，勾选：“启用自动登录”，“用户”选择（如：“me”）;
注意：公共用的计算机千万不能这么设置！




